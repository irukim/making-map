<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ìˆ˜ì •ìš© ì´¬ì˜ ì§€ë„ í‘œì‹œ</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>

<style>
body { margin: 0; font-family: "Segoe UI", sans-serif; }

#bar {
  background: #222;
  color: white;
  padding: 8px;
}

button {
  margin-right: 6px;
  padding: 6px 10px;
}

#map {
  width: 100vw;
  height: calc(100vh - 50px);
}

/* ======================
   ì´¬ì˜ìš© ì˜¤ë²„ë ˆì´ UI
   ====================== */
#overlay {
  position: absolute;
  top: 70px;
  right: 20px;
  z-index: 1000;
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(6px);
  border-radius: 14px;
  padding: 16px 18px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.25);
  min-width: 220px;
}

#overlay h1 {
  margin: 0;
  font-size: 18px;
  font-weight: 800;
  letter-spacing: 0.5px;
}

#overlay .subtitle {
  font-size: 12px;
  color: #555;
  margin-top: 4px;
}

#overlay .info {
  margin-top: 10px;
  font-size: 13px;
  line-height: 1.5;
  color: #222;
}

/* ===== í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ ===== */
.label {
  display: flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
  font-size: 14px;
  font-weight: bold;
  color: black;
  text-shadow:
    -1px -1px 0 #fff,
     1px -1px 0 #fff,
    -1px  1px 0 #fff,
     1px  1px 0 #fff;
}

.label-yellow {
  display: flex;
  align-items: center;
  gap: 6px;
  white-space: nowrap;
  font-size: 14px;
  font-weight: bold;
  color: yellow;
  text-shadow:
    -1px -1px 0 #000,
     1px -1px 0 #000,
    -1px  1px 0 #000,
     1px  1px 0 #000;
}

/* ===== ì•„ì´ì½˜ ì› ===== */
.icon-circle {
  width: 26px;
  height: 26px;
  border-radius: 50%;
  background: white;
  border: 2px solid black;
  display: flex;
  align-items: center;
  justify-content: center;
}

.icon-circle img {
  width: 14px;
  height: 14px;
}
</style>
</head>

<body>

<div id="bar">
  <button onclick="setTool('text')">í…ìŠ¤íŠ¸</button>
  <button onclick="setTool('delete')">ì‚­ì œ</button>
  <button onclick="exportData()">ì €ì¥</button>
</div>

<div id="map"></div>

<!-- ğŸ“¸ ì´¬ì˜ìš© ì§€ë„ ì˜¤ë²„ë ˆì´ -->
<div id="overlay">
  <h1>ì´¬ì˜ìš© ì§€ë„</h1>
  <div class="subtitle">Map for photographers</div>
  <div class="info">
    â€¢ ì£¼ìš” ì´¬ì˜ ì§€ì  í‘œì‹œ<br>
    â€¢ ì´¬ì˜ ì§€ì  í‘œì‹œ ìš”ì²­ ê°€ëŠ¥
  </div>
</div>

<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<script>
/* =========================
   ì§€ë„ ìƒì„±
   ========================= */
const map = L.map("map").setView([37.5665, 126.9780], 11);

L.tileLayer(
  "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
  { maxZoom: 19 }
).addTo(map);

/* === ì§€ë„ ë°ì´í„° === */


L.marker([37.449312979432385, 126.45111322402956], {
  icon: L.divIcon({
    className: "",
    html: `
      <div class="label">
        <div class="icon-circle">
          
        </div>
        <span>ğŸ›«ì¸ì²œêµ­ì œê³µí•­ ì œ1ì—¬ê°í„°ë¯¸ë„</span>
      </div>
    `,
    iconSize: [0, 0]
  })
}).addTo(map);


L.marker([37.46730010634301, 126.43469810485841], {
  icon: L.divIcon({
    className: "",
    html: `
      <div class="label">
        <div class="icon-circle">
          
        </div>
        <span>ğŸ›«ì¸ì²œêµ­ì œê³µí•­ ì œ2ì—¬ê°í„°ë¯¸ë„</span>
      </div>
    `,
    iconSize: [0, 0]
  })
}).addTo(map);


L.marker([37.55908933029367, 126.80326581001283], {
  icon: L.divIcon({
    className: "",
    html: `
      <div class="label">
        <div class="icon-circle">
          
        </div>
        <span>ğŸ›«ê¹€í¬êµ­ì œê³µí•­ êµ­ë‚´ì„  ì—¬ê°í„°ë¯¸ë„</span>
      </div>
    `,
    iconSize: [0, 0]
  })
}).addTo(map);


L.marker([37.56588157675886, 126.80068016052248], {
  icon: L.divIcon({
    className: "",
    html: `
      <div class="label">
        <div class="icon-circle">
          
        </div>
        <span>ğŸ›«ê¹€í¬êµ­ì œê³µí•­ êµ­ì œì„  ì—¬ê°í„°ë¯¸ë„</span>
      </div>
    `,
    iconSize: [0, 0]
  })
}).addTo(map);


L.marker([37.439393186544955, 126.43142580986024], {
  icon: L.divIcon({
    className: "",
    html: `
      <div class="label-yellow">
        <div class="icon-circle">
          
        </div>
        <span>â˜•ï¸ìŠ¤íƒ€íŒŒì´ë¸Œ ì¹´í˜</span>
      </div>
    `,
    iconSize: [0, 0]
  })
}).addTo(map);


L.marker([35.17261581815727, 128.9466190338135], {
  icon: L.divIcon({
    className: "",
    html: `
      <div class="label">
        <div class="icon-circle">
          
        </div>
        <span>ğŸ›«ê¹€í•´êµ­ì œê³µí•­ êµ­ì œì„  ì—¬ê°í„°ë¯¸ë„</span>
      </div>
    `,
    iconSize: [0, 0]
  })
}).addTo(map);


L.marker([35.17021139702981, 128.94891500473025], {
  icon: L.divIcon({
    className: "",
    html: `
      <div class="label">
        <div class="icon-circle">
          
        </div>
        <span>ğŸ›«ê¹€í•´êµ­ì œê³µí•­ êµ­ë‚´ì„  ì—¬ê°í„°ë¯¸ë„</span>
      </div>
    `,
    iconSize: [0, 0]
  })
}).addTo(map);


L.marker([34.8402315708376, 127.61390447616579], {
  icon: L.divIcon({
    className: "",
    html: `
      <div class="label">
        <div class="icon-circle">
          
        </div>
        <span>ğŸ›«ì—¬ìˆ˜ê³µí•­</span>
      </div>
    `,
    iconSize: [0, 0]
  })
}).addTo(map);


L.marker([35.899080985937736, 128.63916814327243], {
  icon: L.divIcon({
    className: "",
    html: `
      <div class="label">
        <div class="icon-circle">
          
        </div>
        <span>ğŸ›«ëŒ€êµ­êµ­ì œê³µí•­ êµ­ë‚´ì„  ì—¬ê°í„°ë¯¸ë„</span>
      </div>
    `,
    iconSize: [0, 0]
  })
}).addTo(map);


L.marker([35.14000382307701, 126.81081891059877], {
  icon: L.divIcon({
    className: "",
    html: `
      <div class="label">
        <div class="icon-circle">
          
        </div>
        <span>ğŸ›«ê´‘ì£¼ê³µí•­</span>
      </div>
    `,
    iconSize: [0, 0]
  })
}).addTo(map);


L.marker([36.72205776845206, 127.4958872795105], {
  icon: L.divIcon({
    className: "",
    html: `
      <div class="label">
        <div class="icon-circle">
          
        </div>
        <span>ğŸ›«ì²­ì£¼êµ­ì œê³µí•­</span>
      </div>
    `,
    iconSize: [0, 0]
  })
}).addTo(map);


/* =========================
   ìƒíƒœ
   ========================= */
let currentTool = "text";
const savedObjects = [];

/* =========================
   ë„êµ¬ ì „í™˜
   ========================= */
function setTool(tool) {
  currentTool = tool;
}

/* =========================
   ì§€ë„ í´ë¦­ (í…ìŠ¤íŠ¸)
   ========================= */
map.on("click", function(e) {

  if (currentTool === "text") {
    const text = prompt("í…ìŠ¤íŠ¸ ì…ë ¥");
    if (!text) return;

    const iconUrl = prompt("ì•„ì´ì½˜ ì´ë¯¸ì§€ ì£¼ì†Œ (ì—†ìœ¼ë©´ ë¹„ì›Œë‘ê¸°)", "");

    const style = prompt(
      "í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ ì„ íƒ:\n1 = ê¸°ë³¸(ê²€ì •)\n2 = ë…¸ë‘",
      "1"
    );

    const labelClass = style === "2" ? "label-yellow" : "label";

    const marker = L.marker(e.latlng, {
      icon: L.divIcon({
        className: "",
        html: `
          <div class="${labelClass}">
            <div class="icon-circle">
              ${iconUrl ? `<img src="${iconUrl}">` : ""}
            </div>
            <span>${text}</span>
          </div>
        `,
        iconSize: [0, 0]
      })
    }).addTo(map);

    savedObjects.push({
      latlng: e.latlng,
      text,
      iconUrl,
      style: labelClass
    });

    marker.on("click", () => {
      if (currentTool === "delete") map.removeLayer(marker);
    });
  }
});

/* =========================
   ì €ì¥
   ========================= */
function exportData() {
  let output = "/* === ì§€ë„ ë°ì´í„° === */\n\n";

  savedObjects.forEach(obj => {
    output += `
L.marker([${obj.latlng.lat}, ${obj.latlng.lng}], {
  icon: L.divIcon({
    className: "",
    html: \`
      <div class="${obj.style}">
        <div class="icon-circle">
          ${obj.iconUrl ? `<img src="${obj.iconUrl}">` : ""}
        </div>
        <span>${obj.text}</span>
      </div>
    \`,
    iconSize: [0, 0]
  })
}).addTo(map);\n\n`;
  });

  prompt("ì•„ë˜ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì„¸ìš”", output);
}
</script>

</body>
</html>